{"mappings":"qLAAO,SAASA,EAAgBC,GAC5B,IACI,IAAIC,EAASC,aAAaC,QAAQH,GACnB,OAAXC,IACJA,EAAS,MAET,MAAMG,EAAOC,KAAKC,MAAML,GACxB,GAAIM,MAAMC,QAAQJ,GAClB,OAAOA,EAEP,MAAM,IAAIK,MAAM,sB,CAElB,MAAOC,GACLC,QAAQC,MAAM,2BAA4BF,E,4TCb3C,MCGDG,EDFK,CACHC,gBAAiBC,SAASC,cAAc,4BACxCC,cAAiBF,SAASC,cAAc,2BACxCE,WAAiBH,SAASC,cAAc,qBACxCG,SAAiBJ,SAASC,cAAc,mBACxCI,aAAiBL,SAASC,cAAc,eACxCK,UAAiBN,SAASC,cAAc,eACxCM,SAAiBP,SAASC,cAAc,WCYhD,SAASO,EAAmBC,GACxB,MAAMC,EAAa1B,EAAeyB,GAClCX,EAAKO,aAAaM,mBAAmB,YAGzC,SAAsBD,GAClBZ,EAAKO,aAAaO,UAAY,GAC9B,MAAMC,EAAa,kCACnB,GAAIH,EAAWI,QAAU,EAAG,CAyB5B,OAxBeJ,EACVK,KACD,EAACC,GACGA,EAAEC,MACFA,EAAKC,eACLA,EAAcC,YACdA,EAAWC,OACXA,EAAMC,aACNA,EAAYC,KACZA,KAEO,qEACKT,IAAaM,WAAqBH,KAAME,kHAEvBD,4FAEAG,OAAYE,kDACXD,yEAMjCE,KAAK,G,CAQV,MAJA,oL,CAlCkDC,CAAad,G,CAlB/DZ,EAAKQ,UAAUmB,UAAUC,SAAS,gBAClClB,EAAkB,WAClBV,EAAKK,WAAWwB,iBAAiB,SAIrC,SAA+BC,GAC3BA,EAAEC,eACFrB,EAAkB,U,IALlBV,EAAKM,SAASuB,iBAAiB,SAQnC,SAA6BC,GACzBA,EAAEC,eACFrB,EAAkB,Q","sources":["src/js/localStorageData.js","src/js/refs.js","src/js/libraryButtons.js"],"sourcesContent":["export function loadDataFromLS (localStorageKey) {\n    try {\n        let string = localStorage.getItem(localStorageKey);\n        if (string === null) {\n        string = '[]';\n        }\n        const data = JSON.parse(string);\n        if (Array.isArray(data)) {\n        return data;\n        } else {\n        throw new Error('Object is not array');\n        }\n    } catch (err) {\n        console.error('Get LocslStorage error: ', err);\n    }\n};\n\nexport function setDataToLS (localStorageKey, object) {\n    try {\n        if (Array.isArray(object)) {\n        const string = JSON.stringify(object);\n        localStorage.setItem(localStorageKey, string);\n        } else {\n        throw new Error('Object is not array');\n        }\n    } catch (err) {\n        console.error('Set LocalStorage error: ', err);\n    }\n};","export const getRefs = () => {\n    return {\n        modalWatchedBtn: document.querySelector('.modal-film__btn-watched'),\n        modalQueueBtn:   document.querySelector('.modal-film__btn-queque'),\n        watchedBtn:      document.querySelector('#js-WatchedButton'),\n        queueBtn:        document.querySelector('#js-QueueButton'),\n        galleryItems:    document.querySelector('.film__list'),\n        myLibrary:       document.querySelector('#my-library'),\n        divModal:        document.querySelector('.modal'),\n    };  \n};","import {loadDataFromLS} from './localStorageData';\nimport {getRefs} from './refs';\n\nconst refs = getRefs();\nif (refs.myLibrary.classList.contains('my-library')) {\n    showPageMyLibrary('watched');\n    refs.watchedBtn.addEventListener('click', onWatchedButtonClick);\n    refs.queueBtn.addEventListener('click', onQueueButtonClick);\n}\n\nfunction onWatchedButtonClick (e) {\n    e.preventDefault;\n    showPageMyLibrary('watched');\n}\n\nfunction onQueueButtonClick (e) {\n    e.preventDefault;\n    showPageMyLibrary('queue');\n}\n\nfunction showPageMyLibrary (keyName) {\n    const watchedArr = loadDataFromLS(keyName);\n    refs.galleryItems.insertAdjacentHTML('beforeend', createMarkup(watchedArr));\n}\n\nfunction createMarkup(watchedArr) {\n    refs.galleryItems.innerHTML = '';\n    const srcImgBase = 'https://image.tmdb.org/t/p/w500';\n    if (watchedArr.length >= 1) {\n    const markup = watchedArr\n        .map(\n        ({\n            id,\n            title,\n            original_title,\n            poster_path,\n            genres,\n            vote_average,\n            year,\n        }) => {\n            return `<li class=\"gallery__item data-modal-open\">\n            <img src=\"${srcImgBase}${poster_path}\" alt=\"${id}-${original_title}\" class=\"img\" data-modal-open/>\n            <div class=\"item__text\">\n                <h2 class=\"item__capt\">${title}</h2>\n                <div class=\"item__wrap\">\n                <p class=\"item__genre\">${genres} | ${year}</p>\n                <p class=\"item__rating\">${vote_average}</p>\n                </div>\n            </div>\n            </li>`;\n        }\n        )\n        .join('');\n    return markup;\n    }\n    const markup = \n    `<div class=\"clear-list\">\n    <h3 class=\"clear-list__title\">Oops...</h3>\n    <p class=\"clear-list__text\">You haven't added a movie yet. Please make your choice.</p>\n    </div>`\n    return markup\n}"],"names":["$56fc4b61ab820ecb$export$304c3a6ad0c4c859","localStorageKey","string","localStorage","getItem","data","JSON","parse","Array","isArray","Error","err","console","error","$002a1533bca02e57$var$refs","modalWatchedBtn","document","querySelector","modalQueueBtn","watchedBtn","queueBtn","galleryItems","myLibrary","divModal","$002a1533bca02e57$var$showPageMyLibrary","keyName","watchedArr","insertAdjacentHTML","innerHTML","srcImgBase","length","map","id","title","original_title","poster_path","genres","vote_average","year","join","$002a1533bca02e57$var$createMarkup","classList","contains","addEventListener","e","preventDefault"],"version":3,"file":"library.adeadc40.js.map"}