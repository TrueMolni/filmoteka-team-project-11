{"mappings":"2fAAA,IAAAA,EAAAC,EAAA,S,aAIMC,EAAS,IAAI,E,WAAAC,SAEbC,GAAO,EAAAC,EAAAC,WAiCb,SAASC,EAAmBC,GACxB,IAAMC,GAAa,EAAAT,EAAAU,gBAAeF,GAClCJ,EAAKO,aAAaC,mBAAmB,YAGzC,SAAsBH,GAClBL,EAAKO,aAAaE,UAAY,GAC9B,IAAMC,EAAa,kCACnB,GAAIL,EAAWM,QAAU,EAAG,CAyB5B,OAxBeN,EACVO,KACD,SAAAC,G,IACIC,EAAED,EAAFC,GACAC,EAAKF,EAALE,MACAC,EAAcH,EAAdG,eACAC,EAAWJ,EAAXI,YACAC,EAAML,EAANK,OACAC,EAAYN,EAAZM,aACAC,EAAIP,EAAJO,KAEA,MAAO,qCACKC,OADgCP,EAAG,+CACtBO,OAAbX,GAAkCW,OAArBJ,EAAY,WAAeI,OAANP,EAAG,KAEpBO,OAFuBL,EAAe,kHAItCK,OAFAN,EAAM,4FAEMM,OAAZH,EAAO,OACNG,OADWD,EAAK,kDACHC,OAAbF,EAAa,sE,IAM9CG,KAAK,G,CAQV,MAJC,oL,CAlCiDC,CAAalB,G,CAlC/DL,EAAKwB,UAAUC,UAAUC,SAAS,gBAClCvB,EAAkB,WAClBH,EAAK2B,WAAWC,iBAAiB,SAIrC,SAA+BC,GAC3BA,EAAEC,eACFhC,EAAOiC,OAEHC,YAAW,WACXlC,EAAOmC,M,GACJ,KAIP9B,EAAkB,U,IAblBH,EAAKkC,SAASN,iBAAiB,SAgBnC,SAA6BC,GACzBA,EAAEC,eACFhC,EAAOiC,OAEHC,YAAW,WACXlC,EAAOmC,M,GACJ,KAIP9B,EAAkB,Q","sources":["src/js/libraryButtons.js"],"sourcesContent":["import {loadDataFromLS} from './localStorageData';\nimport {getRefs} from './refs';\nimport Spinner from \"./loader\";\n\nconst loader = new Spinner();\n\nconst refs = getRefs();\nif (refs.myLibrary.classList.contains('my-library')) {\n    showPageMyLibrary('watched');\n    refs.watchedBtn.addEventListener('click', onWatchedButtonClick);\n    refs.queueBtn.addEventListener('click', onQueueButtonClick);\n}\n\nfunction onWatchedButtonClick (e) {\n    e.preventDefault;\n    loader.show();\n    const spinner = () => {\n        setTimeout(() => {\n        loader.hide()\n        }, 250);\n        \n    };\n    spinner()\n    showPageMyLibrary('watched');\n}\n\nfunction onQueueButtonClick (e) {\n    e.preventDefault;\n    loader.show();\n    const spinner = () => {\n        setTimeout(() => {\n        loader.hide()\n        }, 250);\n        \n    };\n    spinner()\n    showPageMyLibrary('queue');\n}\n\nfunction showPageMyLibrary (keyName) {\n    const watchedArr = loadDataFromLS(keyName);\n    refs.galleryItems.insertAdjacentHTML('beforeend', createMarkup(watchedArr));\n}\n\nfunction createMarkup(watchedArr) {\n    refs.galleryItems.innerHTML = '';\n    const srcImgBase = 'https://image.tmdb.org/t/p/w500';\n    if (watchedArr.length >= 1) {\n    const markup = watchedArr\n        .map(\n        ({\n            id,\n            title,\n            original_title,\n            poster_path,\n            genres,\n            vote_average,\n            year,\n        }) => {\n            return `<li class=\"gallery__item data-id=\"${id}\" data-modal-open\">\n            <img src=\"${srcImgBase}${poster_path}\" alt=\"${id}-${original_title}\" class=\"img\" data-modal-open/>\n            <div class=\"item__text\">\n                <h2 class=\"item__capt\">${title}</h2>\n                <div class=\"item__wrap\">\n                <p class=\"item__genre\">${genres} | ${year}</p>\n                <p class=\"item__rating\">${vote_average}</p>\n                </div>\n            </div>\n            </li>`;\n        }\n        )\n        .join('');\n    return markup;\n    }\n    const markup = \n    `<div class=\"clear-list\">\n    <h3 class=\"clear-list__title\">Oops...</h3>\n    <p class=\"clear-list__text\">You haven't added a movie yet. Please make your choice.</p>\n    </div>`\n    return markup\n}"],"names":["$4SyqA","parcelRequire","$ddc4759679c3eac2$var$loader","default","$ddc4759679c3eac2$var$refs","$4Nugj","getRefs","$ddc4759679c3eac2$var$showPageMyLibrary","keyName","watchedArr","loadDataFromLS","galleryItems","insertAdjacentHTML","innerHTML","srcImgBase","length","map","param","id","title","original_title","poster_path","genres","vote_average","year","concat","join","$ddc4759679c3eac2$var$createMarkup","myLibrary","classList","contains","watchedBtn","addEventListener","e","preventDefault","show","setTimeout","hide","queueBtn"],"version":3,"file":"library.b50da310.js.map"}