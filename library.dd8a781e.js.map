{"mappings":"4iBAAA,IAAAA,EAAAC,EAAA,S,uCAKAC,EAAAC,GAASC,OAAOC,KAAK,CACnBC,SAAU,YACVC,SAAU,MAEVC,cAAc,EACdC,QAAS,OAGX,IAAMC,EAAS,IAAI,EAAAC,EAAAC,SAEbC,GAAO,EAAAC,EAAAC,WA+Bb,SAASC,EAAkBC,GACzB,IAAMC,GAAa,EAAAlB,EAAAmB,gBAAeF,GAClCJ,EAAKO,aAAaC,mBAAmB,YAavC,SAAsBH,GACpBL,EAAKO,aAAaE,UAAY,GAC9B,IAAMC,EAAa,kCACnB,GAAIL,EAAWM,QAAU,EAAG,CAyB1B,OAxBeN,EACZO,KACC,SAAAC,G,IACEC,EAAED,EAAFC,GACAC,EAAKF,EAALE,MACAC,EAAcH,EAAdG,eACAC,EAAWJ,EAAXI,YACAC,EAAML,EAANK,OACAC,EAAYN,EAAZM,aACAC,EAAIP,EAAJO,KAEA,MAAO,gEACOC,OADyDP,EAAG,8BAC/CO,OAAbX,GAAkCW,OAArBJ,EAAY,WAAeI,OAANP,EAAG,KAEpBO,OAFuBL,EAAe,kHAItCK,OAFAN,EAAM,4FAEMM,OAAZH,EAAO,OACNG,OADWD,EAAK,kDACHC,OAAbF,EAAa,sE,IAMhDG,KAAK,G,CAOV,MAJgB,oL,CA3CkCC,CAAalB,IACrC,IAAtBA,EAAWM,OAMftB,EAAAC,GAASC,OAAOiC,QACd,YAAwDH,OAA5ChB,EAAWM,OAAO,4BAAkCU,OAARjB,EAAQ,OANhEf,EAAAC,GAASC,OAAOkC,KACb,iE,CAnCHzB,EAAK0B,UAAUC,UAAUC,SAAS,gBACpCzB,EAAkB,WAClBH,EAAK6B,WAAWC,iBAAiB,SAInC,SAA8BC,GAC5BA,EAAEC,eACFnC,EAAOoC,OAELC,YAAW,WACTrC,EAAOsC,M,GACN,KAGLhC,EAAkB,U,IAZlBH,EAAKoC,SAASN,iBAAiB,SAejC,SAA4BC,GAC1BA,EAAEC,eACFnC,EAAOoC,OAELC,YAAW,WACTrC,EAAOsC,M,GACN,KAGLhC,EAAkB,Q","sources":["src/js/libraryButtons.js"],"sourcesContent":["import { loadDataFromLS } from './localStorageData';\nimport { getRefs } from './refs';\nimport Spinner from './loader';\nimport Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  position: 'right-top',\n  distance: '5px',\n  \n  clickToClose: true,\n  timeout: 2500,\n});\n\nconst loader = new Spinner();\n\nconst refs = getRefs();\nif (refs.myLibrary.classList.contains('my-library')) {\n  showPageMyLibrary('watched');\n  refs.watchedBtn.addEventListener('click', onWatchedButtonClick);\n  refs.queueBtn.addEventListener('click', onQueueButtonClick);\n}\n\nfunction onWatchedButtonClick(e) {\n  e.preventDefault;\n  loader.show();\n  const spinner = () => {\n    setTimeout(() => {\n      loader.hide();\n    }, 250);\n  };\n  spinner();\n  showPageMyLibrary('watched');\n}\n\nfunction onQueueButtonClick(e) {\n  e.preventDefault;\n  loader.show();\n  const spinner = () => {\n    setTimeout(() => {\n      loader.hide();\n    }, 250);\n  };\n  spinner();\n  showPageMyLibrary('queue');\n}\n\nfunction showPageMyLibrary(keyName) {\n  const watchedArr = loadDataFromLS(keyName);\n  refs.galleryItems.insertAdjacentHTML('beforeend', createMarkup(watchedArr));\n  if (watchedArr.length === 0) {\n    Notiflix.Notify.info(\n      `Oops...You haven't added a movie yet. Please make your choice.`\n    );\n    return\n  }\n  Notiflix.Notify.success(\n    `You have ${watchedArr.length} films in your library \"${keyName}\"!`\n  );\n  \n}\n\nfunction createMarkup(watchedArr) {\n  refs.galleryItems.innerHTML = '';\n  const srcImgBase = 'https://image.tmdb.org/t/p/w500';\n  if (watchedArr.length >= 1) {\n    const markup = watchedArr\n      .map(\n        ({\n          id,\n          title,\n          original_title,\n          poster_path,\n          genres,\n          vote_average,\n          year,\n        }) => {\n          return `<li class=\"gallery__item film-card\" data-modal-open data-id=\"${id}\">\n            <img src=\"${srcImgBase}${poster_path}\" alt=\"${id}-${original_title}\" class=\"img\" data-modal-open/>\n            <div class=\"item__text\">\n                <h2 class=\"item__capt\">${title}</h2>\n                <div class=\"item__wrap\">\n                <p class=\"item__genre\">${genres} | ${year}</p>\n                <p class=\"item__rating\">${vote_average}</p>\n                </div>\n            </div>\n            </li>`;\n        }\n      )\n      .join('');\n    return markup;\n  }\n  const markup = `<div class=\"clear-list\">\n    <h3 class=\"clear-list__title\">Oops...</h3>\n    <p class=\"clear-list__text\">You haven't added a movie yet. Please make your choice.</p>\n    </div>`;\n  return markup;\n}\n"],"names":["$4SyqA","parcelRequire","$parcel$interopDefault","$iU1Pc","Notify","init","position","distance","clickToClose","timeout","$ddc4759679c3eac2$var$loader","$kvC6y","default","$ddc4759679c3eac2$var$refs","$4Nugj","getRefs","$ddc4759679c3eac2$var$showPageMyLibrary","keyName","watchedArr","loadDataFromLS","galleryItems","insertAdjacentHTML","innerHTML","srcImgBase","length","map","param","id","title","original_title","poster_path","genres","vote_average","year","concat","join","$ddc4759679c3eac2$var$createMarkup","success","info","myLibrary","classList","contains","watchedBtn","addEventListener","e","preventDefault","show","setTimeout","hide","queueBtn"],"version":3,"file":"library.dd8a781e.js.map"}